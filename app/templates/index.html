{% extends "base.html" %} {% block title %}FoodFinder{% endblock %} {% block
content %}
<h1>Doporučené recepty</h1>
<p>Nechte se inspirovat naším výběřem</p>
<div
	class="row row-cols-1 row-cols-md-2 row-cols-lg-4 justify-content-center mb-4"
>
	{% for recipe in recipes_featured %} {% include "featured-card.html"%} {%
	endfor %}
</div>
<h1>Nejnovější recepty</h1>
{% for recipe in recipes %} {% include "recipe-card.html"%} {% endfor %} 


<script>
  try {
    const now = new Date();
    let clientHour = now.getHours();

    // Ověření, že clientHour je platný
    if (isNaN(clientHour)) {
      throw new Error("Chybný čas");
    }

    // Pokud je čas správný, pošlete ho na server
    fetch(`/?time=${clientHour}`, { method: "GET" })
      .then(response => response.text())
      .then(data => console.log(data))
      .catch(error => console.error("Chyba při odesílání času na server:", error));

  } catch (error) {
    // Pokud dojde k chybě, pošleme "unknown"
    console.warn("Nepodařilo se získat aktuální hodinu, používá se serverový čas.");
    fetch(`/?time=NaN`, { method: "GET" });
  }
</script>


{%endblock %}
